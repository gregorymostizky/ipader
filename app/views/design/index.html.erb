<h3>Layer Example</h3>

<div id='layers_zone'>

    <div class="layer_view">
        <%= render :partial => ("layer_"+@layer_name) %>
    </div>

    <div class='layer_menu'>
        <ul>
            <li><a href='/design?layer=text'>Simple Layer</a></li>
            <li><a href='/design?layer=text_and_logo'>Text & Logo</a></li>
            <li><a href='/design?layer=crazy'>Crazy?</a></li>
        </ul>
    </div>

    <div style="clear:both;"></div>

    <img src="/images/layer_sample.png"/>

</div>

<p>Below are all possible values</p>

<form action="">
    <input type="submit" value="Re-draw">

    <input type='hidden' value="<%= @layer_name %>" name="layer">

    <div style="clear: both;"></div>

    <% @params.keys.sort.each do |k| %>
        <label for='<%= k %>'><%= k %></label><input name="<%= k %>" value="<%= @params[k] %>">

        <div style="clear:both;"></div>
    <% end %>

    <div id='editor_area'>
    </div>

</form>

<script type="text/javascript">
    $(document).ready(function() {
        $('[params],.layer').mouseover(function(e) {
            e.preventDefault();
            $('[for]').css('color', 'black');
            var editable_elements = $(e.srcElement).children().andSelf();
            editable_elements.each(function(idx, el) {
                var param_class = $(el).attr('class');
                $('[for^=' + param_class + ']').css('color', 'red')
            });
        });
    });
</script>